# Updating system
sudo dnf -y update && sudo dnf -y upgrade

# Configuring dnf.conf
STR=$'\n\n# Added for speed:\nfastestmirror=True\nmax_parallel_downloads=10\ndefaultyes=True\nkeepcache=True'
echo "$STR" | sudo tee -a /etc/dnf/dnf.conf

# Adding RPMfusion repos
sudo dnf -y install https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm
sudo dnf -y install https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
sudo dnf -y groupupdate core

# Installing media codecs
sudo dnf -y groupupdate multimedia sound-and-video
sudo dnf -y install ffmpeg-libs
sudo dnf -y install gstreamer1-plugins-{bad-\*,good-\*,base} gstreamer1-plugin-openh264 gstreamer1-libav --exclude=gstreamer1-plugins-bad-free-devel
sudo dnf -y install lame\* --exclude=lame-devel
sudo dnf -y group upgrade --with-optional Multimedia

# Flathub
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

# Hostname
sudo hostnamectl set-hostname hp14

# XFCE
sudo dnf install -y @xfce-desktop-environment








reboot






# Necceseties
sudo dnf install -y firefox
sudo dnf install -y neofetch feh neovim kitty lsd bat zoxide python3 python3-pip lolcat cowsay cmatrix wmctrl sxhkd xfdashboard git feh plank plank-docklets xdotool rofi
sudo dnf install -y cargo ruby
pip install rich sty tqdm requests scikit-learn jupyterlab jupyterlab-night jupyterlab-pygments jupyterlab-widgets jupyterlab_horizon_theme
pip install thefuck trash-cli
sudo gem update fusuma
cargo install viu
mkdir ~/repos
cd ~/repos
git clone https://github.com/msr8/dotfiles

# Config
cd ~/repos/dotfiles
cp -r fonts ~/.fonts
cat bashrc >> ~/.bashrc
cd config
cp -r blesh      ~/.config/
cp -r fusuma     ~/.config/
cp -r kitty      ~/.config/
cp -r neofetch   ~/.config/
cp -r nvim       ~/.config/
cp -r plank      ~/.config/
cp -r skippy-xd  ~/.config/
cp -r swhkdrc    /etc/swhkd/swhkdrc


# Autostart
cd ~/repos/dotfiles/bins
python3 gen_autostart.py "imwheel"   "Starts the imwheel daemon"   "imwheel"
python3 gen_autostart.py "plank"     "Starts the plank daemon"     "plank"
python3 gen_autostart.py "skippy-xd" "Starts the skippy-xd daemon" "skippy-xd --start-daemon"
python3 gen_autostart.py "swhkd"     "Starts the swhkd daemons"    "swhks & pkexec swhkd"
python3 gen_autostart.py "fusuma"    "Starts the fusuma daemon"    "fusuma -d"

# Fusuma
sudo gpasswd -a $USER input
newgrp input
sudo dnf install -y libinput
gsettings set org.gnome.desktop.peripherals.touchpad send-events enabled

# Ble.sh
cd ~/repos
git clone --recursive --depth 1 --shallow-submodules https://github.com/akinomyoga/ble.sh.git
make -C ble.sh install PREFIX=~/.local

# Rofi
cd ~/repos
git clone --depth=1 https://github.com/adi1090x/rofi.git
cd rofi
chmod +x setup.sh
./setup.sh

# Swhkd
sudo dnf install -y systemd-devel
cd ~/repos
git clone https://github.com/waycrate/swhkd
cd swhkd
make setup
make clean
make
sudo make install



# Scrolling issues
sudo dnf install -y imwheel
sudo dnf install -y xorg-x11-drv-evdevt

# Wallpaper
cd ~/repos
git clone https://github.com/msr8/wallpapers
cd wallpapers
feh --bg-fill "kitty minimal monotone 1920x1080.png" # Does not work!!!!

# Icons
cd ~
mkdir .icons
cd .icons
git clone https://github.com/EliverLara/candy-icons

# Themes
cd ~
mkdir .themes
cd .themes
wget https://github.com/EliverLara/Sweet/releases/download/v3.0/Sweet-Dark-v40.zip
wget https://github.com/Roboron3042/Cyberpunk-Neon/raw/master/gtk/oomox-cyberpunk-neon.zip
wget https://github.com/Roboron3042/Cyberpunk-Neon/raw/master/gtk/materia-cyberpunk-neon.zip
unzip Sweet-Dark-v40.zip
unzip oomox-cyberpunk-neon.zip
unzip materia-cyberpunk-neon.zip
rm Sweet-Dark-v40.zip
rm oomox-cyberpunk-neon.zip
rm materia-cyberpunk-neon.zip




# Power (https://hobo.house/2015/12/18/linux-laptop-power-usage-tuning-with-powertop/)
cd ~
sudo dnf install -y tlp powertop
sudo tlp start
sudo powertop --calibrate

# Skippy-xd
cd ~/repos
sudo dnf -y install cmake gcc-c++ gtk3-devel libwnck3-devel libXcomposite-devel libXdamage-devel libX11-devel libXrandr-devel libXinerama-devel startup-notification-devel libXft-devel giflib-devel make gcc
git clone https://github.com/richardgv/skippy-xd.git
cd skippy-xd
make
sudo make install
cd ~/.config
mkdir skippy-xd

# Vscode
sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc
sudo sh -c 'echo -e "[code]\nname=Visual Studio Code\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" > /etc/yum.repos.d/vscode.repo'
sudo dnf install -y code















# rofi -show drun -theme $HOME/.config/rofi/launchers/type-3/style-4.rasi 
# launchers/type-2/style-6 | type-1/style-4 | type-3/style-9
# launchers/type-2/style-10
# launchppppprers/type-2/style-11
# type-1/style-9 | type-1/style-7
# type-1/style-10 | type-4/style-10
# type-3/style-7
# type-4/style-5
# ALL type 5 ones
# type-7/style-6
# themes: arc, catppuccin, gruvbox, dracula, lovelace, onedark

# Manual Changes
# -> Turned off "show shadows under dock windows" in Window Manger Tweaks -> Compositor
# -> Deleted bottom panel and made top panel hide "always"
# -> Set wallpaper
# -> In Settings > Mouse and Touchpad, reversed scrolling, enabled "tap touchpad to click", and set mouse acceleration to 5.8
# -> In Settings > Appearance, changed icon and themes
# -> Right clicking the plank dock while holding ctrl and clicking "Preferences", changed "Hide Delay" to 400, "Theme" to transparent, and "Hide Dock" to "Autohide"
# -> In Settings > Desktop > Icons, set  "Icon Type" to "None"

# In settings, change these shortcuts:
# Super+Right (Change Workspace)
# Super+Left (Change Workspace)
# Shift+Super+Right (Move window)
# Shift+Super+Left (Move window)
# Super+D (Show Desktop)
# Super+Insert (Add Adjacent workspace)
# Super+Delete (Delete current workspace)
# Super+R (App Finder)
# Super+? (Windows operations menu)







# -> upload skippy-xd.rc
# -> upload kitty conf
# -> upload fusuma conf

# -> make widgets
# -> Finish wallpaper section
# -> Add app viewetr using that tool

